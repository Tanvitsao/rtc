<!DOCTYPE html>
<html>

<head>
	<title>南山產物視訊服務</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="./plugin/bootstrap-5.1.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="./css/main.css" />
</head>

<body>
	<!-- loading -->
	<div id="loading-mask" class="hidden">
		<div class="loading-zone">
			<div class="loading-bar"></div>
			<div class="loading-bar"></div>
			<div class="loading-bar"></div>
		</div>
		<p id="loading-text"></p>
	</div>
	<!-- alert -->
	<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
		<symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
			<path
				d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
		</symbol>
		<symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
			<path
				d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />
		</symbol>
		<symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
			<path
				d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
		</symbol>
	</svg>
	<div id="alert-success" class="alert alert-success d-flex align-items-center" role="alert">
		<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:">
			<use xlink:href="#check-circle-fill" />
		</svg>
		<div id="success-msg">
			An example success alert with an icon
		</div>
	</div>
	<div id="alert-danger" class="alert alert-danger d-flex align-items-center" role="alert">
		<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:">
			<use xlink:href="#exclamation-triangle-fill" />
		</svg>
		<div id="alert-msg">
			An example danger alert with an icon
		</div>
	</div>

	<div class="header">
		<img src="./assets/image/logo.jpg" height="40px" width="200px" style="margin-bottom: 10px;" alt="">
		<h3 class="video-title">視訊服務</h3>
		<div class="status ms-auto">
			<span id="customerState" class="me-4">客戶：未上線</span>
			<span id="agentState">客服人員：未上線</span>
		</div>
	</div>
	<div class="gradient-bar"></div>
	<div class="content-container">
		<!-- 視訊 -->
		<div class="inner-container">
			<!-- 錄影中提示 -->
			<div id="recording-alert" class="alert alert-danger" role="alert">
				<img src="./assets/image/record.svg" width="18" alt="">
				Recording online meeting...
			</div>

			<!-- 尚未加入的畫面 -->
			<div id="enter-view" class="video-zone center">
				<div id="circle" class="center"></div>
			</div>
			<!-- 等待對方的畫面 -->
			<!-- <div id="wait-view" class="video-zone center"></div> -->
			<!-- 視訊畫面 -->
			<div id="videos" class="video-zone active">
				<video id="remoteVideo" autoplay playsinline class="active"></video>
				<video id="localVideo" autoplay playsinline class="active"></video>
			</div>
		</div>
		<!-- check list -->
		<div id="check-list" class="hidden">
			<h4 class="text-center mb-3">遠距投保待辦事項</h4>
			<ul>
				<li>
					<input type="checkbox" id="cbox1" value="first_checkbox">
					<label for="cbox1">啟動錄影</label>
				</li>
				<li>
					<input type="checkbox" id="cbox2" value="first_checkbox">
					<label for="cbox2">業務員自我介紹</label>
				</li>
				<li>
					<input type="checkbox" id="cbox3" value="first_checkbox">
					<label for="cbox3">請客戶講出姓名</label>
				</li>
				<li>
					<input type="checkbox" id="cbox4" value="first_checkbox">
					<label for="cbox4">請客戶出示身分證明證件於螢幕前，正反面各停留5秒鐘，並截圖</label>
				</li>
				<li>
					<input type="checkbox" id="cbox5" value="first_checkbox">
					<label for="cbox5">請客戶簽署聲明書，簽名時須在鏡頭前露出</label>
				</li>
				<li>
					<input type="checkbox" id="cbox6" value="first_checkbox">
					<label for="cbox6">簽名時，業務員截圖證明文件為客戶親簽</label>
				</li>
				<li>
					<input type="checkbox" id="cbox7" value="first_checkbox">
					<label for="cbox7">簽名結束後，於螢幕前出示整張聲明書五秒，並截圖</label>
				</li>
				<li>
					<input type="checkbox" id="cbox8" value="first_checkbox">
					<label for="cbox8">視訊簽署聲明同意的意願確認</label>
				</li>
			</ul>
		</div>
		<!-- 下方按鈕 -->
		<a href="javascript:void(0)" id="checklist-button" class="circle-btn" onclick="onChecklistClick()">
			<img src="./assets/image/clipboard.svg" width="24" alt="">
			<span>List</span>
		</a>
		<div class="btn-group-position center">
			<button type="button" id="join-button" class="btn btn-primary" onclick="onStartClick()">開始</button>

			<a href="javascript:void(0)" id="record-button" class="circle-btn me-4 disabled" onclick="onRecordClick()">
				<img src="./assets/image/rec_disabled.svg" id="rec-img" width="24" alt="">
				<span>錄影</span>
			</a>
			<a href="javascript:void(0)" id="close-button" onclick="onStopClick()">
				<img src="./assets/image/hangup.png" width="60" alt="">
			</a>
			<a href="javascript:void(0)" id="screenshot-button" class="circle-btn ms-4 disabled"
				onclick="onScreenShotClick()">
				<img src="./assets/image/screenshot_disabled.svg" id="screenshot-img" width="24" alt="">
				<span>截圖</span>
			</a>




			<!-- <button type="button" id="record-button" class="btn btn-primary me-2 disabled"
				onclick="onRecordClick()">錄影</button>
			<button type="button" id="screenshot-button" class="btn btn-primary me-2"
				onclick="onScreenShotClick()">截圖</button>
			<button type="button" id="close-button" class="btn btn-danger" onclick="onStopClick()">結束</button> -->
		</div>
	</div>

	<!-- 截圖畫面提示 -->
	<img src="" id="screenshot-preview" alt="">


	<script src="./js/sockjs.min.js"></script>
	<script src="./plugin/bootstrap-5.1.0/js/bootstrap.min.js"></script>
	<script src="./js/adapter.js"></script>
	<script src="https://sdk.amazonaws.com/js/aws-sdk-2.990.0.min.js"></script>
	<script src="./js/s3bucket.js"></script>
	<script src="./js/index.js"></script>
</body>

</html>